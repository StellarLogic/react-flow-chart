(this.webpackJsonpintegrtr_diagrams=this.webpackJsonpintegrtr_diagrams||[]).push([[0],{34:function(e,t,n){e.exports=n(86)},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(31),s=n(8),c=n(6),r=n(10),o={RECTANGLE:{type:"rectangle",text:"RECTANGLE"},CIRCLE:{type:"circle",text:"CIRCLE"},SQUARE:{type:"Square",text:"SQUARE"}},u={RECTANGLE:{STROKE:"#ddd",WIDTH:150,HEIGHT:85,ROTATION:0,TEXT:"RECTANGLE",CORNERRADIUS:10,FILLLINEARGRADIENTSTARTPOINT:{x:0,y:0},FILLLINEARGRADIENTENDPOINT:{x:0,y:100},FILLLINEARGRADIENTCOLORSTOPS:[0,"#fff",1,"#68adb9"]},CIRCLE:{STROKE:"#ddd",RADIUS:50,TEXT:"CIRCLE",CORNERRADIUS:10,FILLLINEARGRADIENTSTARTPOINT:{x:25,y:25},FILLLINEARGRADIENTENDPOINT:{x:100,y:100},FILLLINEARGRADIENTCOLORSTOPS:[0,"#fff",1,"#68adb9"]},SQUARE:{STROKE:"#ddd",WIDTH:75,HEIGHT:75,ROTATION:0,TEXT:"SQUARE",CORNERRADIUS:10,FILLLINEARGRADIENTSTARTPOINT:{x:0,y:0},FILLLINEARGRADIENTENDPOINT:{x:10,y:10},FILLLINEARGRADIENTCOLORSTOPS:[0,"#fff",1,"#68adb9"]}},d={MAX:1e3,MIN:10},m={MAX:500,MIN:5},f={MAX:500,MIN:5},p=function(e,t){var n=e.target.dataset.shape;if(n){var a=e.nativeEvent.offsetX,l=e.nativeEvent.offsetY,i=e.target.clientWidth,s=e.target.clientHeight,c=JSON.stringify({type:n,offsetX:a,offsetY:l,clientWidth:i,clientHeight:s,text:t});e.nativeEvent.dataTransfer.setData("__drag_data_payload__",c)}};function E(e){var t=e.palette,n=(void 0===t?[]:t).map((function(e){return Object(c.a)(Object(c.a)({},e),{},{id:Object(r.a)(),type:e.type.toUpperCase(),className:e.type.toLowerCase()})}));return l.a.createElement("aside",{className:"palette"},l.a.createElement("h2",null,"Shapes"),Object.entries(o).map((function(e,t){var n=Object(s.a)(e,2)[1],a=n.type,i=n.text;return l.a.createElement("div",{key:t,className:"shape ".concat(a.toLowerCase()),"data-shape":a,draggable:!0,onDragStart:function(e){return p(e,i)}},i)})),n.map((function(e){var t=e.id,n=e.className,a=e.type,i=e.text;return l.a.createElement("div",{key:t,className:"shape ".concat(n),"data-shape":o[a].type,draggable:!0,onDragStart:function(e){return p(e,i)}},i)})))}var h=n(9),w=n(32),I=n(33),g=n(14),b=n.n(g),O="__integrtr_diagrams__",R={selectedSwimlane:null,menu:{show:!1,x:0,y:0},copiedShape:{copiedSwimlaneId:null,shape:{},type:null},ccp:!1,swimlanes:{selected:null,shapes:{},lastId:null,lines:{},canvas:{height:350,width:0}},commonLine:{lastId:null,lines:{}}},v=Object(w.a)((function(){var e=JSON.parse(localStorage.getItem(O));return Object(c.a)(Object(c.a)({},R),{},{swimlanes:null!==e&&void 0!==e?e:{}})})),S=function(e){return v.set(Object(I.a)(e))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=v.get(),n=Object(r.a)(),a={selected:null,step:{editing:!1,value:""},desc:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate quae quod, quia quo earum obcaecati nobis recusandae sunt adipisci cumque, voluptas repellat accusamus aut non?",shapes:{},lastId:null,lines:{},canvas:{height:350,width:0}};S((function(l){var i=Object.entries(t.swimlanes),r=i.sort((function(e,t){var n=Object(s.a)(e,2),a=(n[0],n[1]),l=Object(s.a)(t,2),i=(l[0],l[1]);return a.place-i.place}));if(console.log("sortedSwimlane",r),"top"==e)l.lastSwimlaneAdded=n,l.swimlanes[n]=Object(c.a)(Object(c.a)({},a),{},{place:r[0][1].place-1,step:{editing:!1,value:"Swimlane ".concat(i.length+1)}});else if("bottom"==e)l.lastSwimlaneAdded=n,l.swimlanes[n]=Object(c.a)(Object(c.a)({},a),{},{place:r[r.length-1][1].place+1,step:{editing:!1,value:"Swimlane ".concat(i.length+1)}});else if("above"==e){var o=r.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n})).indexOf(t.selectedSwimlane);if(0==o)return;var u=(r[o][1].place+r[o-1][1].place)/2;l.lastSwimlaneAdded=n,l.swimlanes[n]=Object(c.a)(Object(c.a)({},a),{},{place:u,step:{editing:!1,value:"Swimlane ".concat(i.length+1)}})}else if("below"==e){var d=r.map((function(e){var t=Object(s.a)(e,2),n=t[0];t[1];return n})).indexOf(t.selectedSwimlane);if(r.length-1==d)return;var m=(r[d][1].place+r[d+1][1].place)/2;l.lastSwimlaneAdded=n,l.swimlanes[n]=Object(c.a)(Object(c.a)({},a),{},{place:m,step:{editing:!1,value:"Swimlane ".concat(i.length+1)}})}else i.length?(l.lastSwimlaneAdded=n,l.swimlanes[n]=Object(c.a)(Object(c.a)({},a),{},{place:r[r.length-1][1].place+1,step:{editing:!1,value:"Swimlane ".concat(i.length+1)}})):(l.lastSwimlaneAdded=n,l.swimlanes[n]=Object(c.a)(Object(c.a)({},a),{},{place:100,step:{editing:!1,value:"Swimlane ".concat(i.length+1)}}))}))},N=function(){localStorage.removeItem(O),S((function(e){for(var t in e.selectedSwimlane=null,e.swimlanes)Object.hasOwnProperty.call(e.swimlanes,t)&&(e.swimlanes[t].selected=null)}));var e=v.get();console.log("statestatestatestate",e),localStorage.setItem(O,JSON.stringify(e.swimlanes))},A=function(){localStorage.removeItem(O),console.log("baseState",R),S((function(e){e.selectedSwimlane=null,e.swimlanes={}}))},C=function(e,t){S((function(n){for(var a in n.selectedSwimlane=null,n.swimlanes)Object.hasOwnProperty.call(n.swimlanes,a)&&(n.swimlanes[a].selected=null);n.swimlanes[e].selected=t,n.selectedSwimlane=e,n.ccp=!1}))},L=function(e,t,n){S((function(a){var l=a.swimlanes[e].shapes[t];l&&(l.x=n.target.x(),l.y=n.target.y())}))},T=function(e,t,n,a){var l=e.scaleX(),i=e.scaleY();e.scaleX(1),e.scaleY(1),S((function(a){var s=a.swimlanes[t].shapes[n];s&&(s.x=e.x(),s.y=e.y(),s.rotation=e.rotation(),s.width=b()(e.width()*l,d.MIN,d.MAX),s.height=b()(e.height()*i,d.MIN,d.MAX))}))},j=function(e){e.preventDefault(),S((function(e){e.menu={show:!1,x:0,y:0}}))},x=n(11),D=function(e,t,n){var a=v.get();S((function(e){var l=a.swimlanes[n],i=a.swimlanes[n].shapes[t],s=(i.type.type.toLowerCase(),k(i,l)),c=s.xPos,r=s.yPos;for(var o in l.lines){var u=e.swimlanes[n].lines[o].points;a.swimlanes[n].lines[o].points;if(l.lines[o].startId===t)u[0]=c,u[1]=r,8==u.length&&(u[3]=r);else if(l.lines[o].endId===t){u[u.length-1]=r;var d=i.type.type.toLowerCase();"circle"===d?(u[u.length-2]=c-2*i.radius,8==u.length&&(u[2]=(u[6]+u[1])/2,u[4]=(u[6]+u[1])/2,u[5]=r)):"rectangle"===d?(u[u.length-2]=c-i.width,8==u.length&&(u[5]=r)):"square"===d&&(u[u.length-2]=c-i.width,8==u.length&&(u[2]=(u[6]+u[1])/2,u[4]=(u[6]+u[1])/2,u[5]=r))}}}))},k=function(e,t){var n=e.type.type.toLowerCase(),a=0,l=0,i=t.lastId,s=t.lines;return"rectangle"===n?(i&&null===s[i].endId?(a=e.x,l=e.y+e.height/2):(a=e.x+e.width,l=e.y+e.height/2),{xPos:a,yPos:l}):"circle"===n?(i&&null===s[i].endId?(a=e.x-e.radius,l=e.y):(a=e.x+e.radius,l=e.y),{xPos:a,yPos:l}):"square"===n?(i&&null===s[i].endId?(a=e.x,l=e.y+e.height/2):(a=e.x+e.width,l=e.y+e.height/2),{xPos:a,yPos:l}):{xPos:a,yPos:l}},G=function(e,t){return t.width<m.MIN||t.height<m.MIN||t.width>m.MAX||t.height>m.MAX?e:t};function P(e){var t=e.id,n=e.isSelected,i=e.type,s=e.swimlaneId,c=Object(x.a)(e,["id","isSelected","type","swimlaneId"]),r=Object(a.useRef)(),o=Object(a.useRef)(),u=Object(a.useRef)(),d=(v((function(e){return e.swimlanes[s]})),v((function(e){var n;return null===(n=e.swimlanes[s])||void 0===n?void 0:n.shapes[t]})));Object(a.useEffect)((function(){n&&(o.current.nodes([r.current]),o.current.getLayer().batchDraw())}),[n]);var f=Object(a.useCallback)((function(e){e.evt.preventDefault(),e.cancelBubble=!0,C(s,t)}),[t]),p=Object(a.useCallback)((function(e){L(s,t,e)}),[t]),E=Object(a.useCallback)((function(e){!function(e,t,n,a){var l=e.scaleX();e.scaleX(1),e.scaleY(1),S((function(a){var i=a.swimlanes[t].shapes[n];i&&(i.x=e.x(),i.y=e.y(),i.radius=b()(e.width()*l/2,m.MIN,m.MAX))}))}(r.current,s,t)}),[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.Circle,Object.assign({onClick:f,onTap:f,onContextMenu:f,onDragStart:f,ref:r},c,{draggable:!0,onDragEnd:function(e){p(e),D(0,t,s)},onTransformEnd:E})),d&&l.a.createElement(h.Text,{x:d.x-d.radius/2,y:d.y,text:i.text,ref:u,wrap:"char",align:"center"}),n&&l.a.createElement(h.Transformer,{anchorSize:5,borderDash:[6,2],ref:o,rotateEnabled:!1,enabledAnchors:["top-left","top-right","bottom-right","bottom-left"],boundBoxFunc:G}))}var F=function(e){e.clickedCan;var t=v((function(e){return e})),n=t.selectedSwimlane,a=(t.lastSwimlaneAdded,t.swimlanes),i=t.menu,c=t.copiedShape,o=i.show,u=i.x,d=i.y,m=i.propertyWrapper,f=null;return o?(f=m?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return y()}},"Add Swimlane"),l.a.createElement("li",{onClick:N},"Save"),l.a.createElement("li",{onClick:A},"Reset")):Object.entries(a).length?l.a.createElement(l.a.Fragment,null,Object.entries(a).length>1&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return y("above")}},"Add Swimlane Above"),l.a.createElement("li",{onClick:function(){return y("below")}},"Add Swimlane Below")),l.a.createElement("li",{onClick:function(){return y("top")}},"Add Swimlane At Top"),l.a.createElement("li",{onClick:function(){return y("bottom")}},"Add Swimlane At Bottom"),Object.entries(c.shape).length>=1?l.a.createElement("li",{onClick:function(){return function(){var e=v.get(),t=e.selectedSwimlane,n=e.copiedShape.shape,a=e.copiedShape.copiedSwimlaneId,l=e.copiedShape.type,i=e.swimlanes[a].lines;S((function(e){if(Object.keys(n).length){var s=Object.keys(n)[0],c=n[s],r=e.copiedShape;if(e.swimlanes[t].shapes[s]=c,e.ccp=!1,r.copiedSwimlaneId={},r.shape={},r.type="","cut"==l){for(var o in i)i[o].startId!==s&&i[o].endId!==s||(delete e.swimlanes[a].lines[o],e.swimlanes[a].lastId=null);delete e.swimlanes[a].shapes[s]}}}))}()}},"Paste"):null,l.a.createElement("li",{onClick:function(){return function(e){console.log("swimlaneId",e);var t=v.get();S((function(n){console.log("state.swimlanes[swimlaneId]",t.swimlanes[e]),delete n.swimlanes[e]}))}(n)}},"Delete Swimlane"),l.a.createElement("li",{onClick:N},"Save"),l.a.createElement("li",{onClick:A},"Reset")):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return y()}},"Add Swimlane"),l.a.createElement("li",{onClick:N},"Save"),l.a.createElement("li",{onClick:A},"Reset")),Object.keys(a).includes(n)&&n&&a[n].selected&&(f=l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return function(e,t,n){var a=v.get(),l=Object(r.a)();S((function(i){var c=a.swimlanes[n],r=k(e,c),o=r.xPos,u=r.yPos;if(null==c.lastId&&(i.swimlanes[n].lastId=l,i.swimlanes[n].lines[l]={startId:t,endId:null,points:[o,u],fill:"#"+((1<<24)*Math.random()|0).toString(16)}),!c.lastId||null!==c.lines[c.lastId].endId||c.lines[c.lastId].startId!=t)if(c.lastId&&null==c.lines[c.lastId].endId){i.swimlanes[n].lines[c.lastId].endId=t;c.shapes[t];var d=c.shapes[t].type.type.toLowerCase(),m=Object(s.a)(c.lines[c.lastId].points,2),f=m[0],p=m[1];f>o&&p<u?i.swimlanes[n].lines[c.lastId].points="rectangle"===d||"square"===d||"cricle"===d?[f,p,f+10,p,f+10,p-75,o-20,p-75,o-20,u,o,u]:[f,p,f+10,p,f+10,u-p+p,o,u]:f>o&&p>u?i.swimlanes[n].lines[c.lastId].points="rectangle"===d||"square"===d?[f,p,f+10,p,f+10,p+75,o-20,p+75,o-20,u,o,u]:[f,p,f+10,p,f+10,u+p-p,o,u]:p==u?i.swimlanes[n].lines[c.lastId].points=[f,p,o,u]:(p<u||p>u)&&(i.swimlanes[n].lines[c.lastId].points=[f,p,f+(o-f)/2,p,f+(o-f)/2,u,o,u])}else i.swimlanes[n].lastId=l,i.swimlanes[n].lines[l]={startId:t,endId:null,points:[o,u],fill:"#"+((1<<24)*Math.random()|0).toString(16)}}))}(a[n].shapes[a[n].selected],a[n].selected,n)}},"Connect"),Object.entries(c.shape)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{onClick:function(){return function(e,t,n){var a=v.get().copiedShape.shape;S((function(l){Object.keys(a).length||(l.copiedShape.copiedSwimlaneId=e,l.copiedShape.shape[t]=n),l.copiedShape.type="cut"}))}(n,a[n].selected,a[n].shapes[a[n].selected])}},"Cut"),l.a.createElement("li",{onClick:function(){return function(e,t,n){var a=v.get().copiedShape.shape;S((function(l){!Object.keys(a).length&&Object.keys(a).length<=1&&(l.copiedShape.copiedSwimlaneId=e,l.copiedShape.shape[t]=n),l.copiedShape.type="copy"}))}(n,a[n].selected,a[n].shapes[a[n].selected])}},"Copy")),l.a.createElement("li",{onClick:function(){return function(){var e=v.get(),t=e.selectedSwimlane,n=e.swimlanes[t].selected;t&&n&&S((function(e){delete e.swimlanes[t].shapes[n]}));var a=e.swimlanes[t].lines;S((function(e){for(var l in a)a[l].startId!==n&&a[l].endId!==n||(delete e.swimlanes[t].lines[l],Object.entries(e.swimlanes[t].lines)&&(e.swimlanes[t].lastId=null))}))}()}},"Delete"))),l.a.createElement("ul",{className:"menu",style:{left:u,top:d}},f)):null},M=function(e,t){return t.width<d.MIN||t.height<d.MIN||t.width>d.MAX||t.height>d.MAX?e:t};function X(e){var t,n=e.id,i=e.isSelected,s=e.type,c=e.swimlaneId,r=Object(x.a)(e,["id","isSelected","type","swimlaneId"]),o=Object(a.useRef)(),u=Object(a.useRef)(),d=Object(a.useRef)(),m=v((function(e){return e})).swimlanes,f=m&&(null===(t=m[c])||void 0===t?void 0:t.shapes[n]);Object(a.useEffect)((function(){i&&(u.current.nodes([o.current]),u.current.getLayer().batchDraw())}),[i]);var p=Object(a.useCallback)((function(e){e.cancelBubble=!0,C(c,n)}),[n,c]),E=Object(a.useCallback)((function(e){L(c,n,e)}),[n]),w=Object(a.useCallback)((function(e){T(o.current,c,n)}),[n]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.Rect,Object.assign({onClick:p,onTap:p,onContextMenu:p,onDragStart:p,ref:o},r,{draggable:!0,onDragEnd:function(e){E(e),D(0,n,c)},onTransformEnd:w})),f&&l.a.createElement(h.Text,{x:f.x+f.width/4,y:f.y+f.height/2.5,text:s.text,ref:d,wrap:"char",align:"center"}),i&&l.a.createElement(h.Transformer,{anchorSize:5,borderDash:[6,2],ref:u,boundBoxFunc:M}))}var U=function(e,t){return t.width<f.MIN||t.height<f.MIN||t.width>f.MAX||t.height>f.MAX?e:t};function _(e){var t=e.id,n=e.isSelected,i=e.type,s=e.swimlaneId,c=Object(x.a)(e,["id","isSelected","type","swimlaneId"]),r=Object(a.useRef)(),o=Object(a.useRef)(),u=Object(a.useRef)(),d=(v((function(e){return e.swimlanes[s]})),v((function(e){var n;return null===(n=e.swimlanes[s])||void 0===n?void 0:n.shapes[t]})));Object(a.useEffect)((function(){n&&(o.current.nodes([r.current]),o.current.getLayer().batchDraw())}),[n]);var m=Object(a.useCallback)((function(e){e.evt.preventDefault(),e.cancelBubble=!0,C(s,t)}),[t]),f=Object(a.useCallback)((function(e){L(s,t,e)}),[t]),p=Object(a.useCallback)((function(e){T(r.current,s,s,0)}),[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.Rect,Object.assign({onClick:m,onTap:m,onContextMenu:m,onDragStart:m,ref:r},c,{draggable:!0,onDragEnd:function(e){f(e),D(0,t,s)},onTransformEnd:p})),d&&l.a.createElement(h.Text,{x:d.x+d.width/4,y:d.y+d.height/2,text:i.text,ref:u,wrap:"char",align:"center"}),n&&l.a.createElement(h.Transformer,{anchorSize:5,borderDash:[6,2],ref:o,boundBoxFunc:U}))}function H(e){var t=e.shape,n=e.swimlaneId,i=Object(a.useCallback)((function(e){return e.swimlanes[n]&&e.swimlanes[n].selected===t.id}),[t,n]),s=v(i);return t.type.type===o.RECTANGLE.type?l.a.createElement(X,Object.assign({},t,{isSelected:s,swimlaneId:n})):t.type.type===o.CIRCLE.type?l.a.createElement(P,Object.assign({},t,{isSelected:s,swimlaneId:n})):t.type.type===o.SQUARE.type?l.a.createElement(_,Object.assign({},t,{isSelected:s,swimlaneId:n})):null}function Q(e){var t=e.points,n=e.fill;return l.a.createElement(h.Arrow,{points:t,fill:"".concat(n||"#000"),stroke:"".concat(n||"#000"),strokeWidth:2})}var q=function(e){return e.preventDefault()},W=function(e){var t=e.id,n=e.swimlane,i=(e.index,e.childRef),d=n&&Object.entries(n.shapes),m=n&&Object.entries(n.lines),f=Object(a.useRef)(),p=Object(a.useRef)();l.a.useEffect((function(){}),[]);var E=Object(a.useCallback)((function(e){var n=e.nativeEvent.dataTransfer.getData("__drag_data_payload__");if(n){var a=JSON.parse(n),l=a.offsetX,i=a.offsetY,s=a.type,c=a.clientHeight,d=a.clientWidth,m=a.text;p.current.setPointersPositions(e);var f=p.current.getPointerPosition();s===o.RECTANGLE.type?function(e,t){var n=t.x,a=t.y;S((function(t){t.swimlanes[e].shapes[Object(r.a)()]={type:o.RECTANGLE,width:u.RECTANGLE.WIDTH,height:u.RECTANGLE.HEIGHT,stroke:u.RECTANGLE.STROKE,rotation:u.RECTANGLE.ROTATION,cornerRadius:u.RECTANGLE.CORNERRADIUS,fillLinearGradientStartPoint:u.RECTANGLE.FILLLINEARGRADIENTSTARTPOINT,fillLinearGradientEndPoint:u.RECTANGLE.FILLLINEARGRADIENTENDPOINT,fillLinearGradientColorStops:u.RECTANGLE.FILLLINEARGRADIENTCOLORSTOPS,x:n,y:a}}))}(t,{x:f.x-l,y:f.y-i,text:m}):s===o.CIRCLE.type?function(e,t){var n=t.x,a=t.y;S((function(t){t.swimlanes[e].shapes[Object(r.a)()]={type:o.CIRCLE,radius:u.CIRCLE.RADIUS,stroke:u.CIRCLE.STROKE,fillLinearGradientStartPoint:u.RECTANGLE.FILLLINEARGRADIENTSTARTPOINT,fillLinearGradientEndPoint:u.RECTANGLE.FILLLINEARGRADIENTENDPOINT,fillLinearGradientColorStops:u.RECTANGLE.FILLLINEARGRADIENTCOLORSTOPS,x:n,y:a}}))}(t,{x:f.x-(l-d/2),y:f.y-(i-c/2),text:m}):s===o.SQUARE.type&&function(e,t){var n=t.x,a=t.y;S((function(t){t.swimlanes[e].shapes[Object(r.a)()]={type:o.SQUARE,width:u.SQUARE.WIDTH,height:u.SQUARE.HEIGHT,stroke:u.SQUARE.STROKE,rotation:u.SQUARE.ROTATION,cornerRadius:u.RECTANGLE.CORNERRADIUS,fillLinearGradientStartPoint:u.RECTANGLE.FILLLINEARGRADIENTSTARTPOINT,fillLinearGradientEndPoint:u.RECTANGLE.FILLLINEARGRADIENTENDPOINT,fillLinearGradientColorStops:u.RECTANGLE.FILLLINEARGRADIENTCOLORSTOPS,x:n,y:a}}))}(t,{x:f.x-l,y:f.y-i,text:m})}}),[t]);return l.a.createElement("main",{className:"canvas",onDrop:E,onDragOver:q,"data-attr":t,ref:f,onContextMenu:function(){return i(f.current)}},l.a.createElement("div",{className:"top"},l.a.createElement("h2",{className:"desc title"},"Description"),l.a.createElement("h2",{className:"process title"},"Process")),l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"swim-no"},l.a.createElement("p",{onClick:function(e){S((function(e){e.swimlanes[t].step.editing=!0}))}},n.step.value,"-",n.place),n.step.editing&&l.a.createElement("form",{className:"edit-step",onSubmit:function(e){e.preventDefault(),S((function(e){e.swimlanes[t].step.editing=!1}))}},l.a.createElement("input",{type:"text",onChange:function(e){S((function(n){n.swimlanes[t].step.value=e.target.value}))},defaultValue:n.step.value}))),l.a.createElement("div",{className:"desc"},l.a.createElement("textarea",{defaultValue:n.desc,spellCheck:"false",onChange:function(e){return function(e,t){S((function(n){n.swimlanes[t].desc=e}))}(e.target.value,t)}})),l.a.createElement(h.Stage,{ref:p,width:window.innerWidth-430,height:n.canvas.height||350,onClick:function(e){!function(e){S((function(t){t.swimlanes[e].selected=null,t.selectedSwimlane=null}))}(t),function(e,t){S((function(e){e.selectedSwimlane=t,e.ccp=!0})),e.evt.preventDefault()}(e,t)}},l.a.createElement(h.Layer,null,d.length>0&&d.map((function(e){var n=Object(s.a)(e,2),a=n[0],i=n[1];return l.a.createElement(H,{key:a,shape:Object(c.a)(Object(c.a)({},i),{},{id:a}),swimlaneId:t})})),m.length>0&&m.map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return l.a.createElement(Q,Object.assign({key:n},a))}))))))},J=(n(84),n(85),function(e){var t=e.handleJson,n=v((function(e){return e.swimlanes}));return console.log("json",n.swimlanes),l.a.createElement("div",{className:"json"},l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:t},"Json"),l.a.createElement("button",{onClick:N},"Save"),l.a.createElement("button",{onClick:A},"Reset")),l.a.createElement("div",{className:"json-print"},l.a.createElement("pre",null,JSON.stringify(n,null,2))))});var B=function(e,t){e.palette;var n=e.data,i=void 0===n?{}:n,c=v((function(e){return e})),r=(c.selectedSwimlane,c.swimlanes),o=(c.ccp,Object(a.useState)(!1)),u=Object(s.a)(o,2),d=u[0],m=u[1],f=Object(a.useState)(null),p=Object(s.a)(f,2),h=p[0],w=p[1],I=Object(a.useRef)(null),g=v((function(e){return e}));console.log("state",g),Object(a.useEffect)((function(){"object"==typeof i&&Object.keys(i).length&&S((function(e){e.swimlanes=i}))}),[]);var b=Object.entries(r).sort((function(e,t){var n=Object(s.a)(e,2),a=(n[0],n[1]),l=Object(s.a)(t,2),i=(l[0],l[1]);return a.place-i.place})),O=function(e){w(e)};return l.a.createElement(l.a.Fragment,null,d?l.a.createElement(J,{handleJson:function(){m(!d)}}):l.a.createElement("div",{className:"bqflow",onContextMenu:function(e){return function(e,t){var n=e.pageX,a=e.pageY;e.preventDefault(),S((function(l){l.menu={propertyWrapper:e.target==t.current,show:!0,x:n,y:a}}))}(e,I)},onClick:j},l.a.createElement(F,{clickedCan:h}),l.a.createElement(E,null),l.a.createElement("div",{className:"property-wrapper",ref:I},l.a.createElement("div",{className:"swimlanes"},b&&b.map((function(e,t){var n=Object(s.a)(e,2),a=n[0],i=n[1];return l.a.createElement(W,{key:a,id:a,swimlane:i,index:t+1,childRef:O})}))))))},Y=[{type:"CIRCLE",text:"Abc"},{type:"SQUARE",text:"abc"},{type:"RECTANGLE",text:"123"}],K=function(){return l.a.createElement(B,{palette:Y})};Object(i.render)(l.a.createElement(K,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0f405e7b.chunk.js.map